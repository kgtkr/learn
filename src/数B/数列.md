# 数列

## 等差数列
一般項は
\\[
a_n=a+(n-1)d
\\]

和は初項と末項の平均のn倍だから、
\\[
S_n=\frac{1}{2}n(a+l)
\\]

末項は
\\[
l=a+(n-1)d
\\]
より
\\[
\begin{eqnarray}
S_n&=&\frac{1}{2}n(a+(a+(n-1)d)) \\\\
&=&\frac{1}{2}n(2a+(n-1)d)
\end{eqnarray}
\\]

## 等比数列
一般項は
\\[
a_n=ar^{n-1}
\\]

和は、
\\[
S_n=a+ar+ar^2+\cdots+ar^{n-1}
\\]

両辺にrを掛けると
\\[
rS_n=ar+ar^2+\cdots+ar^{n-1}+ar^n
\\]

引くと
\\[
S_n-rS_n=a-ar^n \\\\
(1-r)S_n=a(1-r^n) \\\\
S_n=\frac{a(1-r^n)}{(1-r)}
\\]

ただし\\(r=1\\)の時
\\[
S_n=na
\\]

### n乗の差を利用する方法
n乗の差は、
\\[
a^n-b^n=(a-b)(a^{n-1}+a^{n-2}b+\cdots+ab^{n-2}+b^{n-1})
\\]

\\(a=1,\\ b=r\\)とすると、
\\[
1-r^n=(1-r)(1+r+r^2+\cdots+r^{n-1})
\\]

両辺に\\(a\\)を掛けると
\\[
a(1-r^n)=a(1-r)(1+r+r^2+\cdots+r^{n-1})
\\]

\\(a(1+r+r^2+\cdots+r^{n-1})=S_n\\)なので、
\\[
a(1-r^n)=S_n(1-r) \\\\
S_n=\frac{a(1-r^n)}{(1-r)}
\\]