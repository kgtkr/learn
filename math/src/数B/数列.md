# 数列

## 等差数列
一般項は
\\[
a_n=a+(n-1)d
\\]

和は初項と末項の平均のn倍だから、
\\[
S_n=\frac{1}{2}n(a+l)
\\]

末項は
\\[
l=a+(n-1)d
\\]
より
\\[
\begin{eqnarray}
S_n&=&\frac{1}{2}n(a+(a+(n-1)d)) \\\\
&=&\frac{1}{2}n(2a+(n-1)d)
\end{eqnarray}
\\]

## 等比数列
一般項は
\\[
a_n=ar^{n-1}
\\]

和は、
\\[
S_n=a+ar+ar^2+\cdots+ar^{n-1}
\\]

両辺にrを掛けると
\\[
rS_n=ar+ar^2+\cdots+ar^{n-1}+ar^n
\\]

引くと
\\[
S_n-rS_n=a-ar^n \\\\
(1-r)S_n=a(1-r^n) \\\\
S_n=\frac{a(1-r^n)}{(1-r)}
\\]

ただし\\(r=1\\)の時
\\[
S_n=na
\\]

### n乗の差を利用する方法
n乗の差は、
\\[
a^n-b^n=(a-b)(a^{n-1}+a^{n-2}b+\cdots+ab^{n-2}+b^{n-1})
\\]

\\(a=1,\\ b=r\\)とすると、
\\[
1-r^n=(1-r)(1+r+r^2+\cdots+r^{n-1})
\\]

両辺に\\(a\\)を掛けると
\\[
a(1-r^n)=a(1-r)(1+r+r^2+\cdots+r^{n-1})
\\]

\\(a(1+r+r^2+\cdots+r^{n-1})=S_n\\)なので、
\\[
a(1-r^n)=S_n(1-r) \\\\
S_n=\frac{a(1-r^n)}{(1-r)}
\\]

## 数列の和
### 定数列
\\[
\sum_{k=1}^{n}c=nc
\\]

### 1乗
\\(a=1, l=n\\)としたときの等差数列の和だから、
\\[
\sum_{k=1}^{n}k=\frac{1}{2}n(n+1)
\\]

### 2乗
\\[
\sum_{k=1}^{n}k^2=\frac{1}{6}n(n+1)(2n+1)
\\]

### 3乗
\\[
\sum_{k=1}^{n}k^3=\left(\frac{1}{2}n(n+1)\right)^2
\\]

### 累乗
\\(a=1\\)としたときの等比数列の和だから、
\\[
\sum_{k=1}^{n}r^{k-1}=\frac{1-r^n}{1-r}=\frac{r^n-1}{r-1}
\\]

## 階差数列
\\(a_n\\)の階差数列を\\(b_n\\)とすると、
\\[
\begin{eqnarray}
b_1&=&a_2-a_1 \\\\
b_2&=&a_3-a_2 \\\\
\vdots \\\\
b_{n-1}&=&a_{n}-a_{n-1}
\end{eqnarray}
\\]
よって、
\\[
\begin{eqnarray}
a_2&=&a_1+b_1 \\\\
a_3&=&a_2+b_2 \\\\
&=& a_1+b_1+b_2 \\\\
\vdots \\\\
a_n&=&a_1+b_1+b_2+\cdots+b_{n-1}
\end{eqnarray}
\\]
すなわち\\(n \ge 2\\)の時、
\\[
    a_n=a_1+\sum_{k=1}^{n-1}b_n
\\]

## 数列の和と一般項
\\[
\begin{eqnarray}
S_1&=&a_1 \\\\
S_2&=&a_1+a_2 \\\\
&=&S_1+a_2 \\\\
S_3&=&S_2+a_3 \\\\
\vdots \\\\
S_n&=&S_{n-1}+a_n
\end{eqnarray}
\\]

よって、
\\[
a_n=S_n-S_{n-1}
\\]